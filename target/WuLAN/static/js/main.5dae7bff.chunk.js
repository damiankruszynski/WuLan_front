(this.webpackJsonpWuLAN=this.webpackJsonpWuLAN||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(22),i=a.n(c),r=(a(55),a(56),a(50)),l=a(6),o=(a(57),a(7)),h=a(8),u=a(15),j=a(14),d=a(111),b=a(112),m=a(1),p=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={},s}return Object(h.a)(a,[{key:"render",value:function(){return Object(m.jsx)(d.a,{fixed:"bottom",children:Object(m.jsx)(b.a,{className:"nav-item m-auto",children:"All Rights Reserved 2020 @DK"})})}}]),a}(s.Component),f=a(16),O=a(23),v=a.n(O),x=new(function(){function e(){Object(o.a)(this,e)}return Object(h.a)(e,[{key:"getAUTH_API_BASE_URL",value:function(){return"http://localhost:8080/wulan_back/"}}]),e}()),g=new(function(){function e(){Object(o.a)(this,e),this.getCurrentUser=function(){return JSON.parse(sessionStorage.getItem("user"))}}return Object(h.a)(e,[{key:"logIn",value:function(e){return v.a.post(x.getAUTH_API_BASE_URL()+"login",e).then((function(e){e.data.token&&sessionStorage.setItem("user",JSON.stringify(e.data))}))}}]),e}()),k=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={username:"",password:"",message:""},s.changeUserNameHandler=s.changeUserNameHandler.bind(Object(f.a)(s)),s.changePasswordHandler=s.changePasswordHandler.bind(Object(f.a)(s)),s.logiIn=s.logiIn.bind(Object(f.a)(s)),s.errorMessage=s.errorMessage.bind(Object(f.a)(s)),s}return Object(h.a)(a,[{key:"changeUserNameHandler",value:function(e){this.setState({username:e.target.value}),this.setState({message:""})}},{key:"changePasswordHandler",value:function(e){this.setState({password:e.target.value}),this.setState({message:""})}},{key:"logiIn",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.username&&""!==this.state.password){var a={username:this.state.username,password:this.state.password};g.logIn(a).then((function(){t.props.history.push({pathname:"/home",state:{stack:[]}}),window.location.reload()}),(function(e){t.setState({message:"B\u0142\u0119dne dane logowania."}),t.render()}))}}},{key:"errorMessage",value:function(){if(""!==this.state.message)return Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})})}},{key:"render",value:function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)("header",{className:"App-header",children:Object(m.jsx)("form",{className:"form-signin",children:Object(m.jsxs)("div",{className:"d-sm-flex flex-sm-column",children:[Object(m.jsx)("label",{htmlFor:"username",className:"flex-sm-row",children:"Login"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"username",id:"username",className:"flex-sm-row",value:this.state.username,onChange:this.changeUserNameHandler,placeholder:"Login",required:!0,autoFocus:!0}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{htmlFor:"password",className:"flex-sm-row",children:"Has\u0142o"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"password",id:"password",className:"flex-sm-row",placeholder:"Has\u0142o",value:this.state.password,onChange:this.changePasswordHandler,required:!0}),Object(m.jsx)("div",{children:this.errorMessage()}),Object(m.jsx)("button",{className:"btn-primary mt-4",type:"submit",onClick:this.logiIn,children:"Zaloguj"})]})})})})}}]),a}(s.Component),y=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={},s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(k,{history:this.props.history}),Object(m.jsx)(p,{})]})}}]),a}(s.Component);function N(){var e=JSON.parse(sessionStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var w=new(function(){function e(){Object(o.a)(this,e)}return Object(h.a)(e,[{key:"getFiles",value:function(e){var t={headers:N(),params:e};return v.a.get(x.getAUTH_API_BASE_URL()+"files",t)}}]),e}()),P=a(108),A=a(109),F=a(113),S=function(e){var t=e.fileList,a=e.clickFile;return t.length>0?Object(m.jsx)(P.a,{xs:"auto",className:"justify-content-center align-items-center",children:t.map((function(e){return"FOLDER"===e.fileType?Object(m.jsx)(A.a,{xs:"auto",className:"col-content",children:Object(m.jsx)(F.a,{onClick:a,className:"file-looks-folder",id:e.filePath,children:Object(m.jsx)(F.a.Body,{children:Object(m.jsx)(F.a.Title,{style:{color:"black"},children:e.fileName})})})},e.fileName):"FILE"===e.fileType?Object(m.jsx)(A.a,{xs:"auto",className:"col-content",children:Object(m.jsx)(F.a,{onClick:a,className:"file-looks-file",id:e.filePath,children:Object(m.jsx)(F.a.Body,{children:Object(m.jsx)(F.a.Title,{style:{color:"black"},children:e.fileName})})})},e.fileName):"MP4"===e.fileType?Object(m.jsx)(A.a,{xs:"auto",className:"col-content",children:Object(m.jsx)(F.a,{onClick:a,className:"file-looks-MP4",id:e.filePath,title:e.fileType,children:Object(m.jsx)(F.a.Body,{children:Object(m.jsx)(F.a.Title,{style:{color:"black"},children:e.fileName})})})},e.fileName):Object(m.jsx)(A.a,{xs:"auto",className:"col-content",children:Object(m.jsx)(F.a,{onClick:a,className:"file-looks-others",id:e.filePath,children:Object(m.jsx)(F.a.Body,{children:Object(m.jsx)(F.a.Title,{style:{color:"black"},children:e.fileName})})})},e.fileName)}))}):Object(m.jsx)("p",{children:"Brak danych!"})},L=a(110),C=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(m.jsx)(P.a,{xs:"auto",className:"justify-content-center align-items-center",children:Object(m.jsx)(L.a,{animation:"grow",size:"sm"})})}}]),a}(s.Component),I=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={filesList:null,path:null,stack:[]},s.clickFile=s.clickFile.bind(Object(f.a)(s)),s.getFiles=s.getFiles.bind(Object(f.a)(s)),s.getMovie=s.getMovie.bind(Object(f.a)(s)),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){try{this.state.stack=this.props.location.state.stack}catch(t){this.setState({stack:[]})}var e;this.state.stack.length>0&&(e={path:this.state.stack.pop()}),null==e&&(e={path:""}),this.setState(e),this.getFiles(e)}},{key:"componentWillMount",value:function(){}},{key:"getMovie",value:function(e){this.props.history.push({pathname:"/movie",state:{stack:this.state.stack,filePath:e}})}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){e.props.history.push({pathname:"/home",state:{stack:e.state.stack}})}}},{key:"getFiles",value:function(e){var t=this;w.getFiles(e).then((function(e){t.setState({filesList:e.data})})).catch((function(e){t.setState({filesList:null})}))}},{key:"clickFile",value:function(e){e.preventDefault();var t={path:e.currentTarget.id};this.state.stack.push(this.state.path),this.setState(t),"MP4"===e.currentTarget.title&&this.getMovie(t),this.getFiles(t)}},{key:"render",value:function(){var e=this.state.filesList;return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)("div",{className:"App-header",children:Object(m.jsx)("div",{className:"container-fluid ",children:Object(m.jsx)("div",{children:e?Object(m.jsx)(S,{fileList:e,clickFile:this.clickFile}):Object(m.jsx)(C,{})})})})})}}]),a}(s.Component),M=(a(82),function(e){var t=e.filePath,a=new URL("http://localhost:8080/wulan_back/stream");return a.searchParams.set("filePath",t.path),Object(m.jsx)("div",{className:"App",children:Object(m.jsx)("header",{className:"App-header",children:Object(m.jsx)("video",{controls:!0,autoPlay:!0,width:800,children:Object(m.jsx)("source",{src:a,type:"video/mp4"})})})})}),T=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={filePath:s.props.location.state.filePath,stack:s.props.location.state.stack},s}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){e.props.history.push({pathname:"/home",state:{stack:e.state.stack}})}}},{key:"render",value:function(){this.state.filePath;return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)("div",{className:"App-header",children:Object(m.jsx)("div",{className:"container-fluid ",children:Object(m.jsx)("div",{children:Object(m.jsx)(M,{filePath:this.state.filePath})})})})})}}]),a}(s.Component);var U=function(){return Object(m.jsx)(r.a,{basename:"/WuLAN",children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",component:y}),Object(m.jsx)(l.a,{path:"/login",component:y}),Object(m.jsx)(l.a,{path:"/home",component:I}),Object(m.jsx)(l.a,{path:"/movie",component:T})]})})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,114)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(U,{})}),document.getElementById("root")),H()},55:function(e,t,a){},56:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.5dae7bff.chunk.js.map